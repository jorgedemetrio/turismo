/**
 * jquery.mask.js
 * @version: v1.14.16
 * @author: Igor Escobar
 *
 * Created by Igor Escobar on 2012-03-10. Please report any bug at github.com/igorescobar/jQuery-Mask-Plugin
 *
 * Copyright (c) 2012 Igor Escobar http://igorescobar.com
 *
 * The MIT License (http://www.opensource.org/licenses/mit-license.php)
 *
 * Permission is hereby granted, free of charge, to any person
 * obtaining a copy of this software and associated documentation
 * files (the "Software"), to deal in the Software without
 * restriction, including without limitation the rights to use,
 * copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following
 * conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
 * OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
 * HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
 * WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
 * OTHER DEALINGS IN THE SOFTWARE.
 */

!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery")):e(jQuery)}(function(h){var e=function(e,t,n){var i={invalid:[],getCaret:function(){try{var e=0,t=e.get(0),n=document.selection,a=t.selectionStart;if(n&&-1===navigator.appVersion.indexOf("MSIE 10")){var r=n.createRange();r.moveStart("character",-i.val().length),e=r.text.length}else(a||"0"===a)&&(e=a);return e}catch(e){}},setCaret:function(e){try{if(t.is(":focus")){var n=t.get(0);if(n.setSelectionRange)n.setSelectionRange(e,e);else{var i=n.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}}}catch(e){}},events:function(){t.on("keydown.mask",function(e){t.data("mask-keycode",e.keyCode||e.which),t.data("mask-previus-value",t.val()),t.data("mask-previus-caret-pos",i.getCaret()),i.maskDigitPosMapOld=i.maskDigitPosMap}).on(h.jMaskGlobals.useInput?"input.mask":"keyup.mask",i.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){t.keydown().keyup()},100)}).on("change.mask",function(){t.data("changed",!0)}).on("blur.mask",function(){o===i.val()||t.data("changed")||t.trigger("change"),t.data("changed",!1)}).on("blur.mask",function(){o=i.val()}).on("focus.mask",function(e){!0===n.selectOnFocus&&h(e.target).select()}).on("focusout.mask",function(){n.clearIfNotMatch&&!a.test(i.val())&&i.val("")})},getRegexMask:function(){for(var e,t,n,i,a,r,o=[],s=0;s<e.length;s++)(t=l.translation[e.charAt(s)])?(n=t.pattern.toString().replace(/.{1}$|^.{1}/g,""),i=t.optional,(a=t.recursive)?(o.push(e.charAt(s)),r={digit:e.charAt(s),pattern:n}):o.push(i||a?n+"?":n)):o.push(e.charAt(s).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return o=o.join(""),r&&(o=o.replace(new RegExp("("+r.digit+"(.*"+r.digit+")?)"),"($1)?").replace(new RegExp(r.digit,"g"),r.pattern)),new RegExp(o)},destroyEvents:function(){t.off(["input","keydown","keyup","paste","drop","blur","focusout",""].join(".mask "))},val:function(e){var n,i=t.is("input")?"val":"text";return arguments.length>0?(t[i]()!==e&&t[i](e),n=t):n=t[i](),n},calculateCaretPosition:function(e){var n=i.getMasked(),a=i.getCaret();if(e!==n){var r=t.data("mask-previus-caret-pos")||0,o=n.length,s=e.length,l=0,c=0,u=0,f=0,d=0;for(d=a;d<o&&i.maskDigitPosMap[d];d++)c++;for(d=a-1;d>=0&&i.maskDigitPosMap[d];d--)l++;for(d=a-1;d>=0;d--)i.maskDigitPosMap[d]&&u++;for(d=r-1;d>=0;d--)i.maskDigitPosMapOld[d]&&f++;if(a>s)a=10*o;else if(r>=a&&r!==s){if(!i.maskDigitPosMapOld[a]){var p=a;a-=f-u,a-=l,i.maskDigitPosMap[a]&&(a=p)}}else a>r&&(a+=u-f,a+=c)}return a},behaviour:function(n){n=n||window.event,i.invalid=[];var a=t.data("mask-keycode");if(-1===h.inArray(a,l.byPassKeys)){var r=i.getMasked(),o=i.getCaret(),s=t.data("mask-previus-value")||"";return setTimeout(function(){i.setCaret(i.calculateCaretPosition(s))},h.jMaskGlobals.keyStrokeCompensation),i.val(r),i.setCaret(o),i.callbacks(n)}},getMasked:function(e,t){var a,r,o,s=[],l=void 0===t?i.val():t+"",c=0,u=e.length,f=0,d=l.length,p=1,v="push",m=-1,g=0,k=[];for(n.reverse?(v="unshift",p=-1,a=0,c=u-1,f=d-1,r=function(){return c>-1&&f>-1}):(a=u-1,r=function(){return c<u&&f<d});r();){var y=e.charAt(c),b=l.charAt(f),x=h.translation[y];x?(b.match(x.pattern)?(s[v](b),x.recursive&&(-1===m?m=c:c===a&&c!==m&&(c=m-p),a===m&&(c-=p)),c+=p):b===o?(g--,o=void 0):x.optional?(c+=p,f-=p):x.fallback?(s[v](x.fallback),c+=p,f-=p):i.invalid.push({p:f,v:b,e:x.pattern}),f+=p):(e.charAt(c)!==b&&e.charAt(c)!==x.fallback&&(o=e.charAt(c)),f<d&&s[v](b),f+=p),c+=p}var P=e.charAt(a);return u!==d+1||h.translation[P]||s.push(P),s.join("")},callbacks:function(e){var a=i.val(),r=a!==o,s=[a,e,t,n],l=function(e,t,n){"function"==typeof n[e]&&n[e].apply(this,t)};l("onChange",s,n.onChange),l("onKeyPress",s,n.onKeyPress),l("onComplete",s,n.onComplete),l("onInvalid",s,n.onInvalid)}};t=h(t);var a,r=this,o=i.val();e="function"==typeof e?e(i.val(),void 0,t,n):e,r.mask=e,r.options=n,r.remove=function(){var e=i.getCaret();return i.destroyEvents(),i.val(r.getCleanVal()),i.setCaret(e),t},r.getCleanVal=function(){return i.getMasked(!0)},r.getMaskedVal=function(e){return i.getMasked(!1,e)},r.init=function(o){if(o=o||!1,n=n||{},r.clearIfNotMatch=h.jMaskGlobals.clearIfNotMatch,r.byPassKeys=h.jMaskGlobals.byPassKeys,r.translation=h.extend({},h.jMaskGlobals.translation,n.translation),r=h.extend(!0,{},r,n),a=i.getRegexMask(),o)i.events(),i.val(i.getMasked());else{n.placeholder&&t.attr("placeholder",n.placeholder),t.data("mask")&&t.attr("autocomplete","off");for(var s=0,l=!0;s<e.length;s++){var c=h.translation[e.charAt(s)];if(c&&c.recursive){l=!1;break}}l&&t.attr("maxlength",e.length).data("mask-maxlength",!0),i.destroyEvents(),i.events();var u=i.getCaret();i.val(i.getMasked()),i.setCaret(u)}},r.init(!t.is("input"))};h.maskWatchers={};var t=function(){var t=h(this),i={},a=t.attr("data-mask");if(t.attr("data-mask-reverse")&&(i.reverse=!0),t.attr("data-mask-clearifnotmatch")&&(i.clearIfNotMatch=!0),"true"===t.attr("data-mask-selectonfocus")&&(i.selectOnFocus=!0),n(t,a,i))return t.data("mask",new e(this,a,i))},n=function(e,t,n){n=n||{};var i=h(e).data("mask"),a=JSON.stringify,r=h(e).val()||h(e).text();try{return"function"==typeof t&&(t=t(r)),"object"!=typeof i||a(i.options)!==a(n)||i.mask!==t}catch(e){}},i=function(e){var t=document.createElement("div"),n=(e="on"+e)in t;return n||(t.setAttribute(e,"return;"),n="function"==typeof t[e]),t=null,n};h.fn.mask=function(t,i){i=i||{};var a=this.selector,r=h.jMaskGlobals,o=r.watchInterval,s=i.watchInputs||r.watchInputs,l=function(){if(n(this,t,i))return h(this).data("mask",new e(this,t,i))};return h(this).each(l),a&&""!==a&&s&&(clearInterval(h.maskWatchers[a]),h.maskWatchers[a]=setInterval(function(){h(document).find(a).each(l)},o)),this},h.fn.masked=function(e){return this.data("mask").getMaskedVal(e)},h.fn.unmask=function(){return clearInterval(h.maskWatchers[this.selector]),delete h.maskWatchers[this.selector],this.each(function(){var e=h(this).data("mask");e&&e.remove().removeData("mask")})},h.fn.cleanVal=function(){return this.data("mask").getCleanVal()},h.applyDataMask=function(e){((e=e||h.jMaskGlobals.maskElements)instanceof h?e:h(e)).filter(h.jMaskGlobals.dataMaskAttr).each(t)};var a={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&i("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}};h.jMaskGlobals=h.jMaskGlobals||{},a=h.jMaskGlobals=h.extend(!0,{},a,h.jMaskGlobals),a.dataMask&&h.applyDataMask(),setInterval(function(){h.jMaskGlobals.watchDataMask&&h.applyDataMask()},a.watchInterval)},window.jQuery,window.Zepto);
