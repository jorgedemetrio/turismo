<?xml version="1.0" encoding="utf-8"?>
<extension type="component" method="upgrade">
    <name>com_turismo</name>
    <author>Jorge Demetrio</author>
    <creationDate>Janeiro 2025</creationDate>
    <copyright>(C) 2025 Todos os direitos reservados.</copyright>
    <license>GNU General Public License version 2 or later;</license>
    <authorEmail>jorge.demetrio@gmail.com</authorEmail>
    <authorUrl>https://github.com/jorgedemetrio</authorUrl>
    <version>1.0.0</version>
    <description>COM_TURISMO_XML_DESCRIPTION</description>
    <namespace path="src">JorgeDemetrio\Component\Turismo</namespace>

    <install>
        <sql>
            <file driver="mysql" charset="utf8">sql/install.sql</file>
        </sql>
    </install>
    <uninstall>
        <sql>
            <file driver="mysql" charset="utf8">sql/uninstall.sql</file>
        </sql>
    </uninstall>
    <update>
        <schemas>
            <schemapath type="mysql">sql/updates/mysql</schemapath>
        </schemas>
    </update>

    <files folder="site">
        <folder>forms</folder>
        <folder>language</folder>
        <folder>layouts</folder>
        <folder>src</folder>
        <folder>tmpl</folder>
        <folder>models</folder>
        <folder>controllers</folder>
        <folder>views</folder>
    </files>

    <media destination="com_turismo" folder="media">
        <filename>joomla.asset.json</filename>
        <folder>css</folder>
        <folder>js</folder>
        <folder>images</folder>
    </media>

    <languages folder="site/language">
        <language tag="en-GB">en-GB/en-GB.com_turismo.ini</language>
        <language tag="pt-BR">pt-BR/pt-BR.com_turismo.ini</language>
        <language tag="es-ES">es-ES/es-ES.com_turismo.ini</language>
    </languages>

    <administration>
        <menu>COM_TURISMO</menu>
        <submenu>
            <menu link="option=com_turismo&amp;view=locais">COM_TURISMO_MENU_LOCAIS</menu>
            <menu link="option=com_turismo&amp;view=tipos">COM_TURISMO_MENU_TIPOS</menu>
            <menu link="option=com_turismo&amp;view=avaliacoes">COM_TURISMO_MENU_AVALIACOES</menu>
            <menu link="option=com_turismo&amp;view=categorias">COM_TURISMO_MENU_CATEGORIAS</menu>
        </submenu>

        <files folder="administrator">
            <filename>access.xml</filename>
            <filename>config.xml</filename>
            <folder>forms</folder>
            <folder>language</folder>
            <folder>layouts</folder>
            <folder>services</folder>
            <folder>sql</folder>
            <folder>src</folder>
            <folder>tmpl</folder>
            <folder>models</folder>
            <folder>controllers</folder>
            <folder>views</folder>
            <filename>access.xml</filename>
            <filename>config.xml</filename>
        </files>

        <languages folder="administrator/language">
            <language tag="en-GB">en-GB/en-GB.com_turismo.ini</language>
            <language tag="en-GB">en-GB/en-GB.com_turismo.sys.ini</language>
            <language tag="pt-BR">pt-BR/pt-BR.com_turismo.ini</language>
            <language tag="pt-BR">pt-BR/pt-BR.com_turismo.sys.ini</language>
            <language tag="es-ES">es-ES/es-ES.com_turismo.ini</language>
            <language tag="es-ES">es-ES/es-ES.com_turismo.sys.ini</language>
        </languages>
    </administration>

    <config>
        <fields name="params">
            <fieldset name="component">
                <field
                    name="google_maps_key"
                    type="text"
                    label="COM_TURISMO_CONFIG_GOOGLE_MAPS_KEY_LABEL"
                    description="COM_TURISMO_CONFIG_GOOGLE_MAPS_KEY_DESC"
                />
                </fieldset>
                <field
                    name="save_history"
                    type="radio"
                    label="JGLOBAL_SAVE_HISTORY_OPTIONS_LABEL"
                    description="JGLOBAL_SAVE_HISTORY_OPTIONS_DESC"
                    default="1"
                    class="btn-group btn-group-yesno"
                >
                    <option value="1">JYES</option>
                    <option value="0">JNO</option>
                </field>
                <field
                    name="history_limit"
                    type="text"
                    label="JGLOBAL_HISTORY_LIMIT_OPTIONS_LABEL"
                    description="JGLOBAL_HISTORY_LIMIT_OPTIONS_DESC"
                    default="10"
                    filter="integer"
                />
            </fieldset>
        </fields>
    </config>

    <updateservers>
        <server type="extension" priority="1" name="Turismo Updates">https://www.sobieskiproducoes.com.br/updates/com_turismo.xml</server>
    </updateservers>

    <scriptfile>script.php</scriptfile>
    
    <dependencies>
        <dependency type="platform" name="joomla" version="4.0" />
        <dependency type="package" name="pkg_pt-BR">0</dependency>
    </dependencies>
</extension>
